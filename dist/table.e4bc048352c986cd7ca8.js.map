{"version":3,"file":"table.e4bc048352c986cd7ca8.js","mappings":"MACA,MAQMA,EAAQC,SAASC,eAAe,UAChCC,EAAQH,EAAMI,cAAc,SAGhCD,EAAME,UAAY,GAZL,CACb,CAAEC,GAAI,GAAIC,MAAO,oBAAqBC,KAAM,IAAMC,KAAM,MACxD,CAAEH,GAAI,GAAIC,MAAO,gBAAiBC,KAAM,IAAMC,KAAM,MACpD,CAAEH,GAAI,GAAIC,MAAO,kBAAmBC,KAAM,EAAMC,KAAM,MACtD,CAAEH,GAAI,KAAMC,MAAO,gBAAiBC,KAAM,EAAMC,KAAM,MACtD,CAAEH,GAAI,IAAKC,MAAO,qBAAsBC,KAAM,IAAMC,KAAM,OASnDC,QAASC,IACd,MAAMC,EAAKX,SAASY,cAAc,MAElCD,EAAGE,QAAQR,GAAKK,EAAML,GACtBM,EAAGE,QAAQP,MAAQI,EAAMJ,MACzBK,EAAGE,QAAQL,KAAOE,EAAMF,KACxBG,EAAGE,QAAQN,KAAOG,EAAMH,KAAKO,QAAQ,GAErCH,EAAGP,UAAY,gBACNM,EAAML,sBACPK,EAAMJ,0BACLI,EAAMF,+BACDE,EAAMH,KAAKO,QAAQ,gBAGjCZ,EAAMa,YAAYJ,KAMtB,MAAMK,EAAY,CAChB,CAAEC,MAAO,KAAMC,IAAK,OACpB,CAAED,MAAO,KAAMC,IAAK,QACpB,CAAED,MAAO,QAASC,IAAK,OACvB,CAAED,MAAO,QAASC,IAAK,QACvB,CAAED,MAAO,OAAQC,IAAK,OACtB,CAAED,MAAO,OAAQC,IAAK,QACtB,CAAED,MAAO,OAAQC,IAAK,OACtB,CAAED,MAAO,OAAQC,IAAK,SAGxB,IAAIC,EAAY,EA6ChBC,YA7BA,WACE,MAAM,MAAEH,EAAK,IAAEC,GAAQF,EAAUG,GAE3BE,EAAOC,MAAMC,KAAKrB,EAAMsB,iBAAiB,OAEzCC,EAAsB,OAAVR,GAA4B,SAAVA,GAA8B,SAAVA,EAExDI,EAAKK,KAAK,CAACC,EAAGC,KACZ,MAAMC,EAAOF,EAAEd,QAAQI,GACjBa,EAAOF,EAAEf,QAAQI,GAEvB,GAAIQ,EAAW,CACb,MAAMM,EAAOC,OAAOH,GACdI,EAAOD,OAAOF,GACpB,MAAe,QAARZ,EAAgBa,EAAOE,EAAOA,EAAOF,CAC9C,CAEA,OAAIF,IAASC,EAAa,EACd,QAARZ,EAAsBW,EAAOC,EAAO,GAAK,EACtCD,EAAOC,EAAO,GAAK,IAG5BT,EAAKZ,QAASyB,GAAQhC,EAAMa,YAAYmB,IApC1C,SAA2BjB,EAAOC,GACpBnB,EAAMyB,iBAAiB,MAE/Bf,QAAS0B,IACXA,EAAGC,YAAcD,EAAGtB,QAAQwB,YAG9B,MAAMC,EAASvC,EAAMI,cAAc,kBAAkBc,OACrD,IAAKqB,EAAQ,OAEb,MAAMC,EAAgB,QAARrB,EAAgB,KAAO,KACrCoB,EAAOF,YAAcE,EAAOzB,QAAQwB,UAAYE,CAClD,CA0BEC,CAAkBvB,EAAOC,GAEzBC,GAAaA,EAAY,GAAKH,EAAUyB,MAC1C,EAEuB,I","sources":["webpack://frontend/./src/table.js"],"sourcesContent":["\nconst movies = [\n  { id: 26, title: 'Побег из Шоушенка', imdb: 9.30, year: 1994 },\n  { id: 25, title: 'Крёстный отец', imdb: 9.20, year: 1972 },\n  { id: 27, title: 'Крёстный отец 2', imdb: 9.00, year: 1974 },\n  { id: 1047, title: 'Тёмный рыцарь', imdb: 9.00, year: 2008 },\n  { id: 223, title: 'Криминальное чтиво', imdb: 8.90, year: 1994 },\n];\n\nconst table = document.getElementById('movies');\nconst tbody = table.querySelector('tbody');\n\nfunction renderInitialRows() {\n  tbody.innerHTML = '';\n\n  movies.forEach((movie) => {\n    const tr = document.createElement('tr');\n\n    tr.dataset.id = movie.id;\n    tr.dataset.title = movie.title;\n    tr.dataset.year = movie.year;\n    tr.dataset.imdb = movie.imdb.toFixed(2);\n\n    tr.innerHTML = `\n      <td>#${movie.id}</td>\n      <td>${movie.title}</td>\n      <td>(${movie.year})</td>\n      <td>imdb: ${movie.imdb.toFixed(2)}</td>\n    `;\n\n    tbody.appendChild(tr);\n  });\n}\n\nrenderInitialRows();\n\nconst sortSteps = [\n  { field: 'id', dir: 'asc' },\n  { field: 'id', dir: 'desc' },\n  { field: 'title', dir: 'asc' },\n  { field: 'title', dir: 'desc' },\n  { field: 'year', dir: 'asc' },\n  { field: 'year', dir: 'desc' },\n  { field: 'imdb', dir: 'asc' },\n  { field: 'imdb', dir: 'desc' },\n];\n\nlet stepIndex = 0;\n\nfunction updateHeaderArrow(field, dir) {\n  const ths = table.querySelectorAll('th');\n\n  ths.forEach((th) => {\n    th.textContent = th.dataset.fieldName;\n  });\n\n  const active = table.querySelector(`th[data-field=\"${field}\"]`);\n  if (!active) return;\n\n  const arrow = dir === 'asc' ? ' ↑' : ' ↓';\n  active.textContent = active.dataset.fieldName + arrow;\n}\n\nfunction sortTable() {\n  const { field, dir } = sortSteps[stepIndex];\n\n  const rows = Array.from(tbody.querySelectorAll('tr'));\n\n  const isNumeric = field === 'id' || field === 'year' || field === 'imdb';\n\n  rows.sort((a, b) => {\n    const aVal = a.dataset[field];\n    const bVal = b.dataset[field];\n\n    if (isNumeric) {\n      const aNum = Number(aVal);\n      const bNum = Number(bVal);\n      return dir === 'asc' ? aNum - bNum : bNum - aNum;\n    }\n\n    if (aVal === bVal) return 0;\n    if (dir === 'asc') return aVal > bVal ? 1 : -1;\n    return aVal < bVal ? 1 : -1;\n  });\n\n  rows.forEach((row) => tbody.appendChild(row));\n\n  updateHeaderArrow(field, dir);\n\n  stepIndex = (stepIndex + 1) % sortSteps.length;\n}\n\nsetInterval(sortTable, 2000);\n"],"names":["table","document","getElementById","tbody","querySelector","innerHTML","id","title","imdb","year","forEach","movie","tr","createElement","dataset","toFixed","appendChild","sortSteps","field","dir","stepIndex","setInterval","rows","Array","from","querySelectorAll","isNumeric","sort","a","b","aVal","bVal","aNum","Number","bNum","row","th","textContent","fieldName","active","arrow","updateHeaderArrow","length"],"ignoreList":[],"sourceRoot":""}